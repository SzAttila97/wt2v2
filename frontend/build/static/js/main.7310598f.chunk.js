(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(71)},39:function(e,t,a){},40:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},41:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(29),s=a.n(l),o=(a(39),a(40),a(41),a(16)),c=a(13),i=a(32),u=a(1),d=a(2),m=a(6),h=a(5),E=a(7),p=a(33),f=a(14),R=new f.Dispatcher,g=a(3),b=a.n(g),O=new f.Dispatcher,S=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"fetchShutters",value:function(){b.a.get("http://localhost:8080/api/shutters").then(function(e){e.error?O.dispatch({type:"FETCH_SHUTTERS_ERROR",error:e.data.error}):O.dispatch({type:"FETCH_SHUTTERS_SUCCESS",shutters:e.data})}).catch(function(e){O.dispatch({type:"FETCH_SHUTTERS_ERROR",error:e.message})})}},{key:"fetchOrders",value:function(e){b.a.get("http://localhost:8080/api/customer/"+e+"/orders").then(function(e){e.error?O.dispatch({type:k,error:e.data.error}):O.dispatch({type:N,orders:e.data})}).catch(function(e){O.dispatch({type:k,error:e.message})})}}]),e}()),v=a(12),C=new(function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).orders=[],a.error="",a.userId="",a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"handleActions",value:function(e){switch(e.type){case y:this.userId=e.userId,this.emit("userUpdated");break;case N:this.orders=e.orders,this.emit("ordersUpdated");break;case k:case j:case I:case U:this.error=e.error,this.emit("errorUpdated");break;case D:this.orders.find(function(t){return t._id===e.orderId}).status="accepted",this.emit("ordersUpdated");break;case w:this.orders.find(function(t){return t._id===e.orderId}).status="deleted",this.emit("ordersUpdated")}}},{key:"getOrders",value:function(){return this.orders}},{key:"getError",value:function(){return this.error}},{key:"getUser",value:function(){return this.userId}}]),t}(v.EventEmitter));R.register(C.handleActions.bind(C));var _=C,y="UPDATE_USER",N="FETCH_ORDERS_SUCCESS",k="FETCH_ORDERS_ERROR",D="ACCEPT_ORDERS_SUCCESS",I="ACCEPT_ORDERS_ERROR",w="DECLINE_ORDERS_SUCCESS",U="DECLINE_ORDERS_ERROR",j="SAVE_ORDER_ERROR",A=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"updateLoggedInUser",value:function(e){R.dispatch({type:y,userId:e})}},{key:"fetchOrders",value:function(e){b.a.get("http://localhost:8080/api/customer/"+e+"/orders").then(function(e){e.error?R.dispatch({type:k,error:e.data.error}):R.dispatch({type:N,orders:e.data})}).catch(function(e){R.dispatch({type:k,error:e.message})})}},{key:"submitOrder",value:function(e){var t=this;b.a.post("http://localhost:8080/api/orders",Object(p.a)({},e,{customerId:_.getUser()})).then(function(e){e.data.error?R.dispatch({type:j,error:e.data.error}):(t.fetchOrders(_.getUser()),S.fetchShutters())}).catch(function(e){R.dispatch({type:j,error:e.message})})}},{key:"acceptOrder",value:function(e,t){b.a.get("http://localhost:8080/api/customer/"+e+"/orders/"+t+"/accept").then(function(e){e.error?R.dispatch({type:I,error:e.data.error}):R.dispatch({type:D,orderId:t})}).catch(function(e){R.dispatch({type:I,error:e.message})})}},{key:"declineOrder",value:function(e,t){b.a.get("http://localhost:8080/api/customer/"+e+"/orders/"+t+"/decline").then(function(e){e.error?R.dispatch({type:U,error:e.data.error}):R.dispatch({type:w,orderId:t})}).catch(function(e){R.dispatch({type:U,error:e.message})})}}]),e}()),P=new(function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).shutters=[],a.error="",a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"handleActions",value:function(e){switch(e.type){case"FETCH_SHUTTERS_SUCCESS":this.shutters=e.shutters,this.emit("shuttersUpdated");break;case"FETCH_SHUTTERS_ERROR":this.error=e.error,this.emit("errorUpdated")}}},{key:"getShutters",value:function(){return this.shutters}},{key:"getError",value:function(){return this.error}}]),t}(v.EventEmitter));O.register(P.handleActions.bind(P));var T=P,H=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={userId:_.getUser(),orders:_.getOrders(),error:_.getError()||T.getError(),shutters:T.getShutters(),formWidth:"",formHeight:"",formColor:"White",formMaterial:"Plastic",formSelectedPreset:"",formNet:0,formUserId:""},a.onUserChange=function(e){a.setState({formUserId:e.target.value})},a.onSizeChange=function(e){var t=e.target.value;if(a.setState({formSelectedPreset:e.target.value}),t){var r=t.split("x"),n=Object(i.a)(r,2),l=n[0],s=n[1];a.setState({formWidth:l,formHeight:s})}},a.onHeightChange=function(e){a.setState({formSelectedPreset:"",formHeight:e.target.value})},a.onWidthChange=function(e){a.setState({formSelectedPreset:"",formWidth:e.target.value})},a.onColorChange=function(e){a.setState({formColor:e.target.value})},a.onMaterialChange=function(e){a.setState({formMaterial:e.target.value})},a.onNetChange=function(e){a.setState({formNet:e.target.value})},a.onSubmit=function(e){if(e.preventDefault(),a.state.formWidth&&a.state.formHeight&&a.state.formColor&&a.state.formMaterial){var t={width:parseInt(a.state.formWidth),height:parseInt(a.state.formHeight),color:a.state.formColor,material:a.state.formMaterial,isNet:a.state.formNet};A.submitOrder(t)}else alert("Hi\xe1nyz\xf3 adat!")},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;0===this.state.orders.length&&this.state.userId&&A.fetchOrders(this.state.userId),0===this.state.shutters.length&&S.fetchShutters(),_.on("userUpdated",function(){e.setState({userId:_.getUser()},function(){e.state.userId&&A.fetchOrders(e.state.userId)})}),_.on("ordersUpdated",function(){e.setState({orders:_.getOrders()})}),_.on("errorUpdated",function(){e.setState({error:_.getError()})}),T.on("shuttersUpdated",function(){e.setState({shutters:T.getShutters()})}),T.on("errorUpdated",function(){e.setState({error:T.getError()})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"customer-wrapper"},this.state.error?n.a.createElement("div",{className:"alert alert-danger"},this.state.error):null,""===this.state.userId?n.a.createElement("div",{className:"row "},n.a.createElement("div",{className:"col-md-2"},n.a.createElement("h5",null,"Please Log in!")),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("input",{onChange:this.onUserChange,value:this.state.formUserId,type:"string",className:"form-control"})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return A.updateLoggedInUser(e.state.formUserId)}},"Login"))):n.a.createElement("div",null,n.a.createElement("h2",null,"Welcome ",this.state.userId,"!")),this.state.userId?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("h2",null,"Shopping Cart"),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-condensed table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Order ID"),n.a.createElement("th",null,"Size"),n.a.createElement("th",null,"Net"),n.a.createElement("th",null,"Color"),n.a.createElement("th",null,"Material"),n.a.createElement("th",null,"Price Offer"),n.a.createElement("th",null))),n.a.createElement("tbody",null,this.state.orders.map(function(t,a){if("declined"!==t.status)return n.a.createElement("tr",{key:a},n.a.createElement("td",null,t._id),n.a.createElement("td",null,t.shutter?t.shutter.width:""," x ",t.shutter?t.shutter.height:""),n.a.createElement("td",null,t.shutterNet?"Yes":"No"),n.a.createElement("td",null,t.shutterColor),n.a.createElement("td",null,t.shutterMaterial),n.a.createElement("td",null,t.price),n.a.createElement("td",null,"priced"===t.status?n.a.createElement("div",null,n.a.createElement("button",{type:"button",class:"btn btn-success btn-block",onClick:function(){return A.acceptOrder(e.state.userId,t._id)}},"Accept"),n.a.createElement("button",{type:"button",class:"btn btn-danger btn-block",onClick:function(){return A.declineOrder(e.state.userId,t._id)}},"Decline")):null),n.a.createElement("td",null,t.installationDate?n.a.createElement("div",null,t.installationDate):null))}))))),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("h2",null,"New Item"),n.a.createElement("form",{onSubmit:this.onSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Shutter types"),n.a.createElement("select",{onChange:this.onSizeChange,value:this.state.formSelectedPreset,className:"form-control",name:"",id:""},n.a.createElement("option",{value:""},"Sizes"),this.state.shutters.map(function(e,t){return n.a.createElement("option",{key:t,value:e.width+"x"+e.height},e.width," x ",e.height)}),";")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Height"),n.a.createElement("input",{onChange:this.onHeightChange,value:this.state.formHeight,type:"number",min:"1",className:"form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Width"),n.a.createElement("input",{onChange:this.onWidthChange,value:this.state.formWidth,type:"number",min:"1",className:"form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Color"),n.a.createElement("select",{onChange:this.onColorChange,name:"",id:"",value:this.state.formColor,className:"form-control"},n.a.createElement("option",{value:"White"},"White"),n.a.createElement("option",{value:"Black"},"Black"),n.a.createElement("option",{value:"Brown"},"Brown"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Color"),n.a.createElement("select",{onChange:this.onMaterialChange,name:"",id:"",value:this.state.formMaterial,className:"form-control"},n.a.createElement("option",{value:"Plastic"},"Plastic"),n.a.createElement("option",{value:"Aluminium"},"Aluminium"),n.a.createElement("option",{value:"Wood"},"Wood"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Net"),n.a.createElement("select",{onChange:this.onNetChange,name:"",id:"",value:this.state.formNet,className:"form-control"},n.a.createElement("option",{value:"1"},"Yes"),n.a.createElement("option",{value:"0"},"No"))),n.a.createElement("button",{className:"btn btn-primary"},"Add to cart"))),this.state.error?n.a.createElement("div",{className:"alert alert-danger"},this.state.error):null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-10"},n.a.createElement("h2",null,"Invoices"),this.state.orders.filter(function(e){return"closed"===e.status}).map(function(e,t){return n.a.createElement("ul",{className:"list-group",key:t},n.a.createElement("li",{className:"list-group-item"},"Order Id: ",e._id),n.a.createElement("li",{className:"list-group-item"},"Shutter size: ",e.shutter?e.shutter.width:""," x ",e.shutter?e.shutter.height:""),n.a.createElement("li",{className:"list-group-item"},"Mosquito net: ",e.shutterNet?"Yes":"No"),n.a.createElement("li",{className:"list-group-item"},"Color: ",e.shutterColor),n.a.createElement("li",{className:"list-group-item"},"Material: ",e.shutterMaterial),n.a.createElement("li",{className:"list-group-item"},"Price: ",e.price),n.a.createElement("li",{className:"list-group-item"},"Installation Date: ",e.installationDate),n.a.createElement("li",{className:"list-group-item-flush"},"/*",t,"*/"))})))):null)}}]),t}(n.a.Component),M=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"fetchOrders",value:function(){b.a.get("http://localhost:8080/api/worker/orders").then(function(e){e.error?O.dispatch({type:"FETCH_ORDERS_ERROR",error:e.data.error}):O.dispatch({type:"FETCH_ORDERS_SUCCESS",orders:e.data})}).catch(function(e){O.dispatch({type:"FETCH_ORDERS_ERROR",error:e.message})})}},{key:"takeOrder",value:function(e){b.a.get("http://localhost:8080/api/worker/orders/"+e+"/take").then(function(t){t.error?O.dispatch({type:"TAKE_ORDERS_ERROR",error:t.data.error}):O.dispatch({type:"TAKE_ORDERS_SUCCESS",orderId:e})}).catch(function(e){O.dispatch({type:"TAKE_ORDERS_ERROR",error:e.message})})}},{key:"doneOrder",value:function(e){b.a.get("http://localhost:8080/api/worker/orders/"+e+"/done").then(function(t){t.error?O.dispatch({type:"DONE_ORDERS_ERROR",error:t.data.error}):O.dispatch({type:"DONE_ORDERS_SUCCESS",orderId:e})}).catch(function(e){O.dispatch({type:"DONE_ORDERS_ERROR",error:e.message})})}}]),e}()),x=new(function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).orders=[],a.error="",a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"handleActions",value:function(e){switch(e.type){case"FETCH_ORDERS_SUCCESS":this.orders=e.orders,this.emit("ordersUpdated");break;case"FETCH_ORDERS_ERROR":case"TAKE_ORDERS_ERROR":case"DONE_ORDERS_ERROR":this.error=e.error,this.emit("errorUpdated");break;case"TAKE_ORDERS_SUCCESS":this.orders.find(function(t){return t._id===e.orderId}).status="taken",this.emit("ordersUpdated");break;case"DONE_ORDERS_SUCCESS":this.orders.find(function(t){return t._id===e.orderId}).status="done",this.emit("ordersUpdated")}}},{key:"getOrders",value:function(){return this.orders}},{key:"getError",value:function(){return this.error}}]),t}(v.EventEmitter));O.register(x.handleActions.bind(x));var W=x,F=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={orders:W.getOrders(),error:W.getError(),louverAmount:0,cordLength:0,dye:0,screwAmount:0,material:"",color:"",net:0,netSize:0,orderId:0},a.onClickRow=function(e){var t=Math.floor(e.shutter.height/5),r=2*e.shutter.height,n=e.shutter.width/20,l=Math.floor(e.shutter.width/20),s=Math.floor(1.1*(e.shutter.height+e.shutter.width));a.setState({selectedRow:e,louverAmount:t,cordLength:r,dye:n,screwAmount:l,material:e.shutterMaterial,color:e.shutterColor,net:e.shutterNet,netSize:s,orderId:e._id})},a.onClickDone=function(e,t){e.stopPropagation(),a.setState({selectedRow:null},function(){M.doneOrder(t),console.log(a.state.selectedRow)})},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;0===this.state.orders.length&&M.fetchOrders(),W.on("ordersUpdated",function(){e.setState({orders:W.getOrders()})}),W.on("errorUpdated",function(){e.setState({error:W.getError()})})}},{key:"render",value:function(){var e=this;return console.log(this.state),n.a.createElement("div",{className:"worker-wrapper"},this.state.error?n.a.createElement("div",{className:"alert alert-danger"},this.state.error):null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-4"},n.a.createElement("h2",null,"Orders"),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-condensed table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Order ID"))),n.a.createElement("tbody",null,this.state.orders.map(function(e,t){if("accepted"===e.status)return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e._id),n.a.createElement("td",null,"accepted"===e.status?n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return M.takeOrder(e._id)}},"Take Order!")):null))}))))),n.a.createElement("div",{className:"col-md-8"},n.a.createElement("h2",null,"My Jobs"),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-condensed table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Order Informations"))),n.a.createElement("tbody",null,this.state.orders.map(function(t,a){if("taken"===t.status)return n.a.createElement("tr",{key:a,onClick:e.onClickRow.bind(e,t)},n.a.createElement("td",null,t._id),n.a.createElement("td",null,t.shutter?t.shutter.width:""," x ",t.shutter?t.shutter.height:""),n.a.createElement("td",null,t.shutterNet?"Yes":"No"),n.a.createElement("td",null,t.shutterColor),n.a.createElement("td",null,t.shutterMaterial),n.a.createElement("td",null,t.status),n.a.createElement("td",null,"taken"===t.status?n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-primary",onClick:function(a){return e.onClickDone(a,t._id)}},"Done!")):null))})))),this.state.selectedRow?n.a.createElement("div",null,n.a.createElement("div",{className:"card text-white bg-dark col-md-6"},n.a.createElement("div",{className:"card-header text-dark bg-light"},"Required Parts (",this.state.orderId,")"),n.a.createElement("ul",{className:"list-group list-group-flush "},n.a.createElement("li",{className:"list-group-item text-white bg-dark"},"Screw x ",this.state.screwAmount),n.a.createElement("li",{className:"list-group-item text-white bg-dark"},this.state.louverAmount," ",this.state.material," louvers"),n.a.createElement("li",{className:"list-group-item text-white bg-dark"},"Cord : ",this.state.cordLength," cm"),n.a.createElement("li",{className:"list-group-item text-white bg-dark"},this.state.dye," Deciliter ",this.state.color," dye "),n.a.createElement("li",{className:"list-group-item text-white bg-dark"},"Mosquito net: ",this.state.net?"Yes, ":"No"," ",this.state.net?this.state.netSize+" cm ":null," ")))):null)))}}]),t}(n.a.Component),L=new f.Dispatcher,z=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"fetchOrders",value:function(){b.a.get("http://localhost:8080/api/manager/orders").then(function(e){e.error?L.dispatch({type:"FETCH_ORDERS_ERROR",error:e.data.error}):L.dispatch({type:"FETCH_ORDERS_SUCCESS",orders:e.data})}).catch(function(e){L.dispatch({type:"FETCH_ORDERS_ERROR",error:e.message})})}},{key:"okOrder",value:function(e){var t=this;b.a.get("http://localhost:8080/api/manager/orders/"+e+"/ok").then(function(a){a.error?L.dispatch({type:"OK_ORDERS_ERROR",error:a.data.error}):(L.dispatch({type:"OK_ORDERS_SUCCESS",orderId:e}),t.fetchOrders())}).catch(function(e){L.dispatch({type:"OK_ORDERS_ERROR",error:e.message})})}},{key:"paidOrder",value:function(e){var t=this;b.a.get("http://localhost:8080/api/manager/orders/"+e+"/paid").then(function(a){a.error?L.dispatch({type:"PAID_ORDERS_ERROR",error:a.data.error}):(L.dispatch({type:"PAID_ORDERS_SUCCESS",orderId:e}),t.fetchOrders())}).catch(function(e){L.dispatch({type:"PAID_ORDERS_ERROR",error:e.message})})}},{key:"closedOrder",value:function(e){var t=this;b.a.get("http://localhost:8080/api/manager/orders/"+e+"/closed").then(function(a){a.error?L.dispatch({type:"CLOSED_ORDERS_ERROR",error:a.data.error}):(L.dispatch({type:"CLOSED_ORDERS_SUCCESS",orderId:e}),t.fetchOrders())}).catch(function(e){L.dispatch({type:"CLOSED_ORDERS_ERROR",error:e.message})})}},{key:"priceOrder",value:function(e,t){var a=this;b.a.post("http://localhost:8080/api/manager/orders/"+e+"/"+t+"/update-price").then(function(t){t.error?L.dispatch({type:"PRICE_ORDERS_ERROR",error:t.data.error}):(L.dispatch({type:"PRICE_ORDERS_SUCCESS",orderId:e}),a.fetchOrders())}).catch(function(e){L.dispatch({type:"PRICE_ORDERS_ERROR",error:e.message})})}},{key:"dateOrder",value:function(e,t){var a=this;b.a.post("http://localhost:8080/api/manager/orders/"+e+"/"+t+"/update-installationDate").then(function(t){t.error?L.dispatch({type:"PRICE_ORDERS_ERROR",error:t.data.error}):(L.dispatch({type:"PRICE_ORDERS_SUCCESS",orderId:e}),a.fetchOrders())}).catch(function(e){L.dispatch({type:"PRICE_ORDERS_ERROR",error:e.message})})}}]),e}()),K=new(function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).orders=[],a.error="",a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"handleActions",value:function(e){switch(e.type){case"FETCH_ORDERS_SUCCESS":this.orders=e.orders,this.emit("ordersUpdated");break;case"FETCH_ORDERS_ERROR":this.error=e.error,this.emit("errorUpdated");break;case"OK_ORDERS_SUCCESS":this.orders.find(function(t){return t._id===e.orderId}).status="ok",this.emit("ordersUpdated");break;case"OK_ORDERS_ERROR":this.error=e.error,this.emit("errorUpdated");break;case"PAID_ORDERS_SUCCESS":this.orders.find(function(t){return t._id===e.orderId}).status="paid",this.emit("ordersUpdated");break;case"PAID_ORDERS_ERROR":this.error=e.error,this.emit("errorUpdated");break;case"CLOSED_ORDERS_SUCCESS":this.orders.find(function(t){return t._id===e.orderId}).status="closed",this.emit("ordersUpdated");break;case"CLOSED_ORDERS_ERROR":this.error=e.error,this.emit("errorUpdated");break;case"PRICE_ORDERS_SUCCESS":this.orders.find(function(t){return t._id===e.orderId}).price=e.price,this.orders.find(function(t){return t._id===e.orderId}).status="priced",this.emit("ordersUpdated");break;case"PRICE_ORDERS_ERROR":this.error=e.error,this.emit("errorUpdated");break;case"DATE_ORDERS_SUCCESS":this.orders.find(function(t){return t._id===e.orderId}).installationDate=e.installationDate,this.orders.find(function(t){return t._id===e.orderId}).status="dated",this.emit("ordersUpdated");break;case"DATE_ORDERS_ERROR":this.error=e.error,this.emit("errorUpdated")}}},{key:"getOrders",value:function(){return this.orders}},{key:"getError",value:function(){return this.error}}]),t}(v.EventEmitter));L.register(K.handleActions.bind(K));var B=K,Y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={orders:B.getOrders(),error:B.getError(),formDate:"",formPrice:"",formStatus:""},a.onPriceChange=function(e){a.setState({formPrice:e.target.value})},a.onDateChange=function(e){a.setState({formDate:e.target.value})},a.onStatusChange=function(e){a.setState({formStatus:e.target.value})},a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;0===this.state.orders.length&&z.fetchOrders(),B.on("ordersUpdated",function(){e.setState({orders:B.getOrders()})}),B.on("errorUpdated",function(){e.setState({error:B.getError()})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"manager-wrapper"},this.state.error?n.a.createElement("div",{className:"alert alert-danger"},this.state.error):null,n.a.createElement("h2",null,"Set Prices"),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-condensed table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"OrderID"),n.a.createElement("th",null,"CustomerID"),n.a.createElement("th",null,"Size"),n.a.createElement("th",null,"Net"),n.a.createElement("th",null,"Color"),n.a.createElement("th",null,"Material"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null),n.a.createElement("th",null,n.a.createElement("input",{onChange:this.onPriceChange,value:this.state.formPrice,type:"number",min:"1",className:"form-control"})),n.a.createElement("th",null))),n.a.createElement("tbody",null,this.state.orders.map(function(t,a){if("pending"===t.status&&0!==t.price)return n.a.createElement("tr",{key:a},n.a.createElement("td",null,t._id),n.a.createElement("td",null,t.customerId),n.a.createElement("td",null,t.shutter?t.shutter.width:""," x ",t.shutter?t.shutter.height:""),n.a.createElement("td",null,t.shutterNet?"Yes":"No"),n.a.createElement("td",null,t.shutterColor),n.a.createElement("td",null,t.shutterMaterial),n.a.createElement("td",null,t.price),n.a.createElement("td",null,t.status),n.a.createElement("td",null),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-success",onClick:function(){return z.priceOrder(t._id,e.state.formPrice)}},"Offer!")))})))),this.state.error?n.a.createElement("div",{className:"alert alert-danger"},this.state.error):null,n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-4"},n.a.createElement("h2",null,"Accept jobs"),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-condensed table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"OrderID"),n.a.createElement("th",null))),n.a.createElement("tbody",null,this.state.orders.map(function(e,t){if("done"===e.status)return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e._id),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-light",onClick:function(){return z.okOrder(e._id)}},"Accept Job!")))}))))),n.a.createElement("div",{className:"col-md-8"},n.a.createElement("h2",null,"Organize Installation"),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-condensed table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"OrderID"),n.a.createElement("th",null,"CustomerId"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null),n.a.createElement("th",null,n.a.createElement("input",{onChange:this.onDateChange,value:this.state.formDate,type:"date",className:"form-control"})))),n.a.createElement("tbody",null,this.state.orders.map(function(t,a){if("ok"===t.status||"dated"===t.status)return n.a.createElement("tr",{key:a},n.a.createElement("td",null,t._id),n.a.createElement("td",null,t.customerId),n.a.createElement("td",null,t.installationDate),n.a.createElement("td",null),n.a.createElement("td",null,"dated"===t.status?n.a.createElement("button",{className:"btn btn-outline-success btn-block",onClick:function(){return z.paidOrder(t._id)}},"Paid!"):n.a.createElement("button",{className:"btn btn-outline-warning btn-block",onClick:function(){return z.dateOrder(t._id,e.state.formDate)}},"Set Date!")))})))))),this.state.error?n.a.createElement("div",{className:"alert alert-danger"},this.state.error):null,n.a.createElement("h2",null,"Close Order / Create Invoice"),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-condensed table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"OrderID"),n.a.createElement("th",null,"CustomerID"),n.a.createElement("th",null,"Size"),n.a.createElement("th",null,"Net"),n.a.createElement("th",null,"Color"),n.a.createElement("th",null,"Material"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null))),n.a.createElement("tbody",null,this.state.orders.map(function(e,t){if("paid"===e.status)return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.customerId),n.a.createElement("td",null,e.shutter?e.shutter.width:""," x ",e.shutter?e.shutter.height:""),n.a.createElement("td",null,e.shutterNet?"Yes":"No"),n.a.createElement("td",null,e.shutterColor),n.a.createElement("td",null,e.shutterMaterial),n.a.createElement("td",null,e.price),n.a.createElement("td",null,e.installationDate),n.a.createElement("td",null,e.status),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return z.closedOrder(e._id)}},"Create Invoice!")))})))),this.state.error?n.a.createElement("div",{className:"alert alert-danger"},this.state.error):null,n.a.createElement("h2",null,"Statistics"),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-condensed table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"OrderID"),n.a.createElement("th",null,"CustomerID"),n.a.createElement("th",null,"Size"),n.a.createElement("th",null,"Net"),n.a.createElement("th",null,"Color"),n.a.createElement("th",null,"Material"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null))),n.a.createElement("tbody",null,this.state.orders.map(function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.customerId),n.a.createElement("td",null,e.shutter?e.shutter.width:""," x ",e.shutter?e.shutter.height:""),n.a.createElement("td",null,e.shutterNet?"Yes":"No"),n.a.createElement("td",null,e.shutterColor),n.a.createElement("td",null,e.shutterMaterial),n.a.createElement("td",null,e.installationDate),n.a.createElement("td",null,e.price),n.a.createElement("td",null,e.status))})))),n.a.createElement("select",{onChange:this.onStatusChange,value:this.state.formStatus,className:"form-control",name:"",id:""},n.a.createElement("option",{value:""},"Status"),this.state.orders.map(function(e,t){return n.a.createElement("option",{key:t,value:e.status},e.status)}),";"),n.a.createElement("div",null,this.state.orders.filter(function(t){return t.status===e.state.formStatus}).map(function(e,t){return n.a.createElement("li",{className:"list-group-item-flush"},t+1)})))}}]),t}(n.a.Component);var J=function(){return n.a.createElement("div",{className:"container"},n.a.createElement(o.a,null,n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},n.a.createElement("a",{className:"navbar-brand",href:"./"},n.a.createElement("span",{role:"image","aria-label":"bee"},"\ud83d\udc1d"),"BeeShutter! BeeAwesome!"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{className:"nav-link",to:"/"},"Customer")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{className:"nav-link",to:"/worker"},"Worker")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{className:"nav-link",to:"/manager"},"Manager"))))),n.a.createElement(c.a,{exact:!0,path:"/",component:H}),n.a.createElement(c.a,{exact:!0,path:"/worker",component:F}),n.a.createElement(c.a,{exact:!0,path:"/manager",component:Y})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.7310598f.chunk.js.map